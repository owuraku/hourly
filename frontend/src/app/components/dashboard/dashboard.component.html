<div>
  <div class="card text-center">
    <div class="card-body">
      <div class="card-heading">
        FILTER RESULTS
      </div>
      <div>
        <p>By User</p>
        <label for="typeahead-prevent-manual-entry">Search for a user:</label>
        <input
          id="typeahead-prevent-manual-entry"
          type="text"
          class="form-control"
          [(ngModel)]="userModel"
          [ngbTypeahead]="search"
          [inputFormatter]="formatter"
          [resultFormatter]="formatter"
          [editable]="false"
        />
        <small *ngIf="searching">
          Searching for user...
        </small>
        <small *ngIf="searchFailed">
          No user found
        </small>
      </div>
    </div>
    <div *ngIf="false">
      <ngb-datepicker
        #dp
        (dateSelect)="onDateSelection($event)"
        [displayMonths]="2"
        [dayTemplate]="t"
        outsideDays="hidden"
      >
      </ngb-datepicker>
      <ng-template #t let-date let-focused="focused">
        <span
          class="custom-day"
          [class.focused]="focused"
          [class.range]="isRange(date)"
          [class.faded]="isHovered(date) || isInside(date)"
          (mouseenter)="hoveredDate = date"
          (mouseleave)="hoveredDate = null"
        >
          {{ date.day }}
        </span>
      </ng-template>
      <pre>From: {{ fromDate | json }} </pre>
      <pre>To: {{ toDate | json }} </pre>
    </div>
    <div class="card-footer">
      <button ngbButton class="btn btn-primary" (click)="updateTable()">
        Update Results
      </button>
    </div>
  </div>
  <hr />
  <div class="card">
    <div class="card-body">
      <div class="card-heading">
        USER STATISTICS
      </div>
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Username</th>
            <th scope="col">Min. Entry Time</th>
            <th scope="col">Max. Entry Time</th>
            <th scope="col">Min. Exit Time</th>
            <th scope="col">Max. Exit Time</th>
            <th scope="col">Min. Work Hours</th>
            <th scope="col">Max. Work Hours</th>
            <th scope="col">Avg. Work Hours</th>
            <th scope="col">Total Hours Worked</th>
            <th scope="col">Total Days Worked</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let userstat of userstats">
            <th scope="row">{{ userstat.username }}</th>
            <td>{{ userstat.earliestEntryTime }}</td>
            <td>{{ userstat.latestEntryTime }}</td>
            <td>{{ userstat.earliestExitTime }}</td>
            <td>{{ userstat.latestExitTime }}</td>
            <td>{{ userstat.minhours }}</td>
            <td>{{ userstat.maxhours }}</td>
            <td>{{ userstat.avghours }}</td>
            <td>{{ userstat.totalhours }}</td>
            <td>{{ userstat.totaldays }}</td>
          </tr>
        </tbody>
      </table>

      <div class="d-flex justify-content-between p-2">
        <!-- <ngb-pagination
        [collectionSize]="collectionSize"
        [(page)]="page"
        [pageSize]="pageSize"
      >
      </ngb-pagination> -->

        <!-- <select style="width: auto" [(ngModel)]="pageSize">
                <option [ngValue]="2">2 items per page</option>
                <option [ngValue]="4">4 items per page</option>
                <option [ngValue]="6">6 items per page</option>
            </select> -->
      </div>
    </div>
  </div>
</div>
